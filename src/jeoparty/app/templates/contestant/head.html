<head>
    {% if stage == "selection" or stage == "finale_wager" %}
    <title>{{ round_name }}</title>
    {% elif stage == "question" or stage == "finale_question" %}
    <title>{{ round_name }} - {{ question["category"]["name"] }}{% if stage == "question" %} {{ _locale["for"] }} {{ question["value"] }} {{ _locale["points"] }}{% endif %}</title>
    {% else %}
    <title>{{ app_name }}!</title>
    {% endif %}
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8">
    <link rel="icon" type="image/png" sizes="32x32" href="{{ url_for('static', _external=True, filename='img/favicon-32.ico') }}">
    <link rel="icon" type="image/png" sizes="48x48" href="{{ url_for('static', _external=True, filename='img/favicon-48.ico') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', _external=True, filename='css/style.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', _external=True, filename='css/contestant_style.css') }}">
    <script src="{{ url_for('static', _external=True, filename='js/jquery.min.js') }}"></script>
    <script src="{{ url_for('static', _external=True, filename='js/wake_lock.js') }}"></script>
    {% if game_id %}
    <script src="{{ url_for('static', _external=True, filename='js/socket_io.js') }}"></script>
    <script>const GAME_ID = "{{ game_id }}";</script>
    <script src="{{ url_for('static', _external=True, filename='js/contestant_game.js') }}"></script>
    <script>
        // Add listener for closing socket
        window.addEventListener("beforeunload", function(){
            if (socket) {
                socket.close();
            }

            if (wakeLock) {
                wakeLock.release().then(() => {
                    wakeLock = null;
                });
            }
        });
    </script>
    {% else %}
    <script src="{{ url_for('static', _external=True, filename='js/contestant_lobby.js') }}"></script>
    {% endif %}
</head>